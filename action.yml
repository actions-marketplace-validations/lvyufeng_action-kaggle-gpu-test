name: "Kaggle GPU Test"
author: "namiyousef"
description: "Automatically test integration/gpu tests against Kaggle notebook with GPU runtime"
inputs:
  GIT_ACCESS_TOKEN:
    description: "GitHub secret token with read permissions"
    required: true
  KAGGLE_API_KEY:
    description: "Kaggle API key for pushing tests"
    required: true
  REPO_URL:
    description: "Public repository URL"
    required: true
  REPO_NAME:
    description: "Repository name"
    required: true
  TEST_FOLDER:
     description: "Folder to run pytest on"
     required: true
     default: "integration/"
outputs:
  automatic_releases_tag:
    description: "The release tag this action just processed"
  upload_url:
    description: "The URL for uploading additional assets to the release"
runs:
  using: "composite"
  steps:
  - name: authenticate-kaggle-cli
    shell: bash
    run:  |
      echo "Hello World"
    # echo $KAGGLE_API_KEY
    # echo $REPO_URL
    # echo $REPO_NAME
    # echo $TEST_FOLDER
        
    # authenticate kaggle cli
  #send-job:
    # use kaggle cli to send the tests
    # sends a job to Kaggle. I.e. this should create the files, send them
  
  #check-status:
    # needs to be a while loop, keeps checking until status is either success or error. Depending on this should output error
branding:
  icon: activity
  color: green
